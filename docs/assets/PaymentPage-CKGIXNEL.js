import{e as S,q as b,a5 as P,d as w,r as C,ag as N,ah as U,k as D,l as a,u as e,W as h,X as v,f as L,m as t,y as M,z as T,G as E,ae as V,af as A,a3 as p,C as l,B as O,M as R,ai as H,aj as k,a1 as c,D as x,T as z,U as G,$ as W,a0 as j,_ as q}from"./index-zGeD1bcX.js";const F=s=>(W("data-v-d49eacf2"),s=s(),j(),s),X={class:"payment-panel"},Y={class:"plan-description"},$=F(()=>c("div",{id:"paypal-button-container"},null,-1)),J=S({__name:"PaymentPage",setup(s){const u=b(),d=P(),i=w(()=>u.getters["account/getAccount"]),_=i.value.apikey,f={year:{price:"39.99",description:"Manga one year premium license"},lifetime:{price:"59.99",description:"Manga lifetime premium license"}};let n=C(f.year);function m(){document.getElementById("paypal-button-container").innerHTML=""}function g(){const r={amount:{currency_code:"USD",value:n.value.price},description:n.value.description};paypal.Buttons({style:{layout:"vertical",color:"gold",shape:"rect",label:"paypal"},createOrder:(o,y)=>y.order.create({purchase_units:[r],application_context:{brand_name:"AppsBlack - Manga Reader",shipping_preference:"NO_SHIPPING",return_url:"https://apps.black"}}),onApprove:async(o,y)=>{await h.post(v.LICENSE_SUBMIT,{order_id:o.orderID},{headers:{apikey:_}});const I=await h.get(v.USER_INFO,{headers:{apikey:_}});I.data.data.licenses.length>0&&(i.value.licenses=I.data.data.licenses,u.dispatch("account/setAccount",i.value)),d.back()}}).render("#paypal-button-container")}function B(r){n.value=f[r.detail.value],m(),g()}return N(()=>{g()}),U(()=>m),(r,o)=>(L(),D(e(G),{class:"can-go-back"},{default:a(()=>[t(e(R),{translucent:!0},{default:a(()=>[t(e(M),null,{default:a(()=>[t(e(T),{slot:"start",onClick:o[0]||(o[0]=()=>e(d).back())},{default:a(()=>[t(e(E),{ios:e(V),md:e(A),style:{width:"24px",height:"24px","margin-left":"8px"},color:"primary"},null,8,["ios","md"]),t(e(p),{style:{"margin-left":"4px","font-size":"medium"},color:"primary"},{default:a(()=>[l("Back")]),_:1})]),_:1}),t(e(O),{style:{"text-align":"center","margin-right":"80px"}},{default:a(()=>[l("Upgrade to Premium")]),_:1})]),_:1})]),_:1}),t(e(z),{onIonChange:B,fullscreen:!0,color:"light",class:"ion-padding"},{default:a(()=>[t(e(H),{value:"year"},{default:a(()=>[t(e(k),{value:"year"},{default:a(()=>[t(e(p),null,{default:a(()=>[l("One Year")]),_:1})]),_:1}),t(e(k),{value:"lifetime"},{default:a(()=>[t(e(p),null,{default:a(()=>[l("Lifetime")]),_:1})]),_:1})]),_:1}),c("div",X,[c("h1",null,x(e(n).price)+" USD",1),c("p",Y,x(e(n).description),1),$])]),_:1})]),_:1}))}}),Q=q(J,[["__scopeId","data-v-d49eacf2"]]);export{Q as default};
